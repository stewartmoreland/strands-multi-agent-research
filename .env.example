# Multi-Agent Research System Environment Configuration
# Copy this file to .env.local and fill in the values from CDK stack outputs

# =============================================================================
# AWS Configuration
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=435475852948

# =============================================================================
# Local Development - AWS Credentials for Bedrock
# =============================================================================
# For local development, the agent uses Strands Agents SDK with Amazon Bedrock.
# You need AWS credentials with bedrock:InvokeModel permission.
#
# Option 1: Configure AWS CLI profile (recommended)
#   Run: aws configure
#   Or use a named profile: export AWS_PROFILE=your-profile
#
# Option 2: Set environment variables directly
#   AWS_ACCESS_KEY_ID=your-access-key
#   AWS_SECRET_ACCESS_KEY=your-secret-key
#   AWS_SESSION_TOKEN=your-session-token (if using temporary credentials)
#
# Option 3: Use SSO
#   Run: aws sso login --profile your-sso-profile
#   Then: export AWS_PROFILE=your-sso-profile
#
# Verify credentials work: aws sts get-caller-identity
# Verify Bedrock access: Enable Claude models in AWS Console > Bedrock > Model access

# =============================================================================
# AgentCore Runtime Configuration (from CDK outputs)
# =============================================================================
# The Runtime ID and ARN are output after `yarn workspace @repo/infra deploy`
AGENTCORE_RUNTIME_ID=research_agent-XXXXXXXXXX
AGENTCORE_RUNTIME_ARN=arn:aws:bedrock-agentcore:us-east-1:435475852948:runtime/research_agent-XXXXXXXXXX

# The invocations endpoint URL format for AgentCore Runtime
# Use this URL to invoke the agent from the frontend
# Format: https://bedrock-agentcore.{region}.amazonaws.com/runtimes/{runtimeId}/invocations
AGENTCORE_INVOCATIONS_URL=https://bedrock-agentcore.us-east-1.amazonaws.com/runtimes/${AGENTCORE_RUNTIME_ID}/invocations

# =============================================================================
# AgentCore Memory Configuration (optional - uncomment CfnMemory in stack.ts)
# =============================================================================
# Memory ID is output after enabling the CfnMemory construct in stack.ts
AGENTCORE_MEMORY_ID=
AGENTCORE_MEMORY_NAMESPACE={actorId}

# =============================================================================
# AgentCore Gateway Configuration (optional - uncomment CfnGateway in stack.ts)
# =============================================================================
# Gateway URL is output after enabling the CfnGateway construct in stack.ts
# Format: https://bedrock-agentcore.{region}.amazonaws.com/gateways/{gatewayId}/mcp
AGENTCORE_GATEWAY_URL=

# =============================================================================
# AgentCore Built-in Tools Configuration
# =============================================================================
# Enable AgentCore Browser and Code Interpreter tools for specialist agents.
# When disabled, specialists use simulated/fallback responses (for local dev).
# Set to 'true' to enable real tool execution via AgentCore.
AGENTCORE_TOOLS_ENABLED=false

# Individual tool toggles (optional - both default to AGENTCORE_TOOLS_ENABLED value)
# AGENTCORE_BROWSER_ENABLED=true
# AGENTCORE_CODE_INTERPRETER_ENABLED=true

# =============================================================================
# Agent Server Configuration (for apps/agent container)
# =============================================================================
# These are required by AgentCore Runtime HTTP protocol contract
PORT=8080
HOST=0.0.0.0

# Bedrock model ID for the agent
BEDROCK_MODEL_ID=us.anthropic.claude-sonnet-4-20250514-v1:0

# =============================================================================
# ECR Repository (from CDK outputs)
# =============================================================================
ECR_REPOSITORY_URI=435475852948.dkr.ecr.us-east-1.amazonaws.com/research-agent

# =============================================================================
# Frontend Configuration (for apps/web)
# =============================================================================
# For local development, proxy through Vite to handle auth
VITE_AGENT_INVOCATIONS_URL=/api/invocations

# For production, use the full AgentCore Runtime endpoint
# VITE_AGENT_INVOCATIONS_URL=https://bedrock-agentcore.us-east-1.amazonaws.com/runtimes/${AGENTCORE_RUNTIME_ID}/invocations

# =============================================================================
# Cognito Configuration (from CDK outputs)
# =============================================================================
# These values are output by the CDK stack after deployment
VITE_COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX
VITE_COGNITO_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxx
VITE_COGNITO_REGION=us-east-1
